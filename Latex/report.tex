
% (Abstracted from a Major Project Report at CSED, NIT Calicut but can be
% modified easily to use for other reports also.)
%
% Released under Creative Commons Attribution license (CC-BY)
% Info: http://creativecommons.org/licenses/by/3.0/
%
% Created by: Kartik Singhal
% BTech CSE Batch of 2009-13
% NIT Calicut
% Contact Info: kartiksinghal@gmail.com
%
% It is advisable to learn the basics of LaTeX before using this template.
% A good resource to start with is http://en.wikibooks.org/wiki/LaTeX/
%
% All template fields are marked with a pair of angular brackets e.g. <title here>
% except for the ones defining citation names in ref.tex.
%
% Empty space after chapter/section/subsection titles can be used to insert text.
%
% Just compile this file using pdflatex after making all required changes.

\documentclass[12pt,a4paper]{article}
\usepackage[pdftex]{graphicx} %for embedding images
\usepackage{url} %for proper url entries
\usepackage[bookmarks, colorlinks=false, pdfborder={0 0 0}, pdftitle={<pdf title here>}, pdfauthor={<author's name here>}, pdfsubject={<subject here>}, pdfkeywords={<keywords here>}]{hyperref} %for creating links in the pdf version and other additional pdf attributes, no effect on the printed document
%\usepackage[final]{pdfpages} %for embedding another pdf, remove if not required

\begin{document}
% \renewcommand\bibname{References} %Renames "Bibliography" to "References" on ref page

%include other pages
\input{./title.tex}



\pagenumbering{roman} %numbering before main content starts
\tableofcontents


\newpage
\pagenumbering{arabic} %reset numbering to normal for the main content

\section{Problem Definition}

The goal here is to create a basic dating website. We're using HTML, CSS, and JavaScript to build it. Simply put, we want to make a place where you can enter some info about yourself and then find someone who might be a good match for you among a bunch of students. It's all about making a website that's easy to use and helps people connect with each other.

\section{Basic Tasks}
Following are all the basic tasks that needed to be done.
\subsection{Login Page}
The project includes a login page feature, which acts as a gateway to access the input interface. Users are prompted to enter a username and password combination. If the entered credentials match those of a registered user stored in the "login.json" file, access is granted. Otherwise, appropriate error messages are displayed. This ensures that only registered users can access the website, even at a later time. The login page is implemented in a ".html" file named "login.html".
\subsection{“Forgot Password?” Button}
Additionally, the project incorporates a "Forgot Password?" feature to cater to instances where registered users forget their passwords. Upon clicking the designated "Forgot Password?" button on the login page, users are directed to a new page named "forgot.html" or, if integrated, remain on the login page itself. Here, users input their username, triggering the display of the corresponding secret question associated with the username from the "login.json" file. If the user correctly answers the secret question, the password is revealed on the screen. Otherwise, appropriate error messages are displayed, ensuring a streamlined password recovery process for registered users.
\subsection{Input Interface}

The task involves crafting an input interface using HTML and CSS for users to fill in their personal details. These details correspond to the fields in the "students.json" file, including "IITB Roll Number", "Name", "Year of Study", "Age", "Gender", "Interests", "Hobbies", "Email", and "Photo".
As customisation, I have also included 'Interested in' question to know the orientation of the user and display results accordingly.

For the "Gender" field, radio buttons are implemented to allow users to choose a single option. For "Interests" and "Hobbies", checkboxes are provided for users to select multiple options for each category.

Additionally, a "Submit" button is included, which, upon clicking, initiates the search for the person's ideal match. A "Logout" button is also provided to return users to the login screen for added convenience.

All of this functionality is designed and implemented within the "dating.html" file for the HTML structure and "style.css" file for the visual styling.
\subsection{Swiping}
A feature is added to the input interface to enable users to browse through all the students' profiles and photos stored in the "students.json" file. This page can be accessed through the navbar.

Upon clicking the button, users are directed to a new page named \\"scroll\textunderscore or\textunderscore swipe.html". This page allows users to freely scroll or swipe through profiles, viewing details and photos of each student in the dataset.

This page filters out the profiles according to the 'interested in' input provided by the user on the dating.html. 

\subsection{Finding the “right'' match}

The task involves improving the "Submit" button on the input interface ("dating.html") to find a suitable match for the user among the profiles in "students.json" using JavaScript. The match is based on shared interests and custom criteria. If no suitable match is found, an appropriate message is displayed. If there are multiple matches, one is chosen arbitrarily. The matchmaking process is flexible, adapting to individual preferences.

I used Jaccard's matching algorithm to generate the 'right' or we can say best match. This algorithm basically gives a number which is basically number of common interests/hobbies divided by total number of hobbies/interests. In other words size of intersection of their hobbies/interests divided by size of union of their hobbies/interests. greater the number of things common between two user... greater the score. To scale up the score, I have returned $\sqrt[2]{ original score}$
and then multiplied it by 100 to convert it in percentage. \\

\subsection{Output Interface}

After clicking "Submit," a new tab will display the "right match" for the person, including their details if a match is found. The interface for this is structured in a separate ".html" file named "match.html", utilizing the same CSS ("style.css") and JavaScript ("script.js") files.
On clicking submit in dating.html, first foundMatch.html is displayed. On hovering over the card in foundMatch.html, user can see the match. In case there is no match... The script leads the user to another webpage where an appropriate message is displayed.

\section{JavaScript Code}
I've implemented 23 functions, all coded in script.js. Some JavaScript is also present in HTML pages, such as Left NavBar functionality.
\\
Following is the brief description of every function used:

\subsection{submitHandler()}
\begin{itemize}
    \item Gets called when the submit button is pressed on the dating.html page.
    \item Takes in the input filled by the user and calls \texttt{findMatch()}.
    \item Stores the input provided by the user in local storage in the form of JSON. 
\end{itemize}

\subsection{findMatch()}
\begin{itemize}
    \item This function is called when the \texttt{submitHandler()} function is executed.
    \item It fetches the \texttt{students.json} file.
    \item Converts the response into a JavaScript object.
    \item Iterates through the object, calculating compatibility scores between the user and each student.
    \item Redirects to \texttt{foundMatch.html} upon completion.
    \item Converts the matched student data into a JSON string and stores it in local storage.
\end{itemize}

\subsection{renderMatchFound()}
\begin{itemize}
    \item This function renders the match on the \texttt{matchFound.html} page.
    \item It retrieves the matched student data from local storage.
    \item Checks if the compatibility score is below 0.4 and redirects to \texttt{sorry.html} if so.
    \item Displays the matched student's name, image, and compatibility score.
\end{itemize}

\subsection{renderMatch()}
\begin{itemize}
    \item This function renders the details of the matched student on the \texttt{match.html} page.
    \item It retrieves the matched student data from local storage.
    \item Displays the matched student's name, interests, hobbies, age, image, IITB roll number, year of study, and gender.
\end{itemize}

\subsection{scoreCalculator(user1, user2)}
\begin{itemize}
    \item This function calculates the compatibility score between two users.
    \item It implements Jaccard's Algorithm to calculate the score based on shared interests and hobbies.
    \item Returns the compatibility score scaled to a percentage.
\end{itemize}

\subsection{onLogin()}
\begin{itemize}
    \item This function is triggered when the login button is clicked.
    \item Fetches the \texttt{login.json} file.
    \item Verifies the entered username and password.
\end{itemize}

\subsection{checkLoginData(data)}
\begin{itemize}
    \item This function verifies the user's login credentials and displays appropriate error messages.
    \item Retrieves the input username and password.
    \item Checks if the username exists and if the password matches the username.
\end{itemize}

\subsection{findSecret()}
\begin{itemize}
    \item This function retrieves a user's secret question based on their username.
    \item Fetches the \texttt{login.json} file.
    \item Displays the user's secret question if the username exists.
\end{itemize}

\subsection{checkSecretAnswer()}
\begin{itemize}
    \item This function checks the user's secret answer for password recovery.
    \item Retrieves the entered answer and username.
    \item Compares the entered answer with the stored secret answer for the given username.
\end{itemize}

\subsection{checkFilter(person, filter)}
\begin{itemize}
    \item This function gets called when someone applies a filter.
    \item It takes \texttt{filter} and \texttt{person} as input and returns if the person passes the filter.
\end{itemize}


\subsection{scroll()}
\begin{itemize}
    \item This function renders everyone (who matches the filters) in the scroll-container.
    \item It is called when \texttt{scroll\textunderscore or\textunderscore swipe.html} is loaded.
\end{itemize}


\subsection{removeFilters()}
\begin{itemize}
    \item This function removes filters applied to the scroll-container.
    \item It redirects back to \texttt{scroll\textunderscore or\textunderscore swipe.html}.
\end{itemize}

% Function for logging out
\subsection{logoutFun()}
\begin{itemize}
    \item This function is called when logout is clicked on the navbar.
    \item It removes all data stored in the local storage to prevent any conflicts if a different user logs in.
\end{itemize}

% Function for opening the filter bar
\subsection{openFilterBar()}
\begin{itemize}
    \item This function is called when the filter button in the scroll\_or\_swipe.html page is clicked.
    \item It opens the filter bar by adjusting its height and changes the appearance of the filter button.
\end{itemize}

% Function for closing the filter bar
\subsection{closeFilterBar()}
\begin{itemize}
    \item This function is called when the filter button in the scroll\_or\_swipe.html page is clicked and the filter bar is open.
    \item It closes the filter bar by adjusting its height and changes the appearance of the filter button.
\end{itemize}

% Function for applying filters
\subsection{FilterFunction()}
\begin{itemize}
    \item This function is called when the filter button is clicked in the filter bar in the scroll\_or\_swipe.html page.
    \item It collects the interests and hobbies selected by the user and stores them in local storage as filter data.
    \item It then redirects to the scroll\_or\_swipe.html page.
\end{itemize}

% Function for rendering user details
\subsection{renderOwnDetails()}
\begin{itemize}
    \item This function is triggered when the user clicks on home when on any page other than dating.html.
    \item It retrieves the user's details and image from local storage and displays them on the page.
\end{itemize}

% Function for scrolling the scroll container
\subsection{scroll\_the\_scroll\_container(e)}
\begin{itemize}
    \item This function is called when the user presses any key on the scroll\_or\_swipe.html page.
    \item If the right arrow key is pressed, it scrolls the scroll-container to the next box, displaying the next user.
    \item If the left arrow key is pressed, it scrolls the scroll-container to the previous box, displaying the previous user.
\end{itemize}

% Function for setting a cookie
\subsection{setCookie()}
\begin{itemize}
    \item This function sets a cookie named \texttt{username} with the value of the input field with the ID \texttt{username}.
    \item The cookie expires after 1 hour.
\end{itemize}

% Function for getting a cookie
\subsection{getCookie(key)}
\begin{itemize}
    \item This function retrieves the value of the cookie with the specified \texttt{key}.
\end{itemize}

% Function for checking if a cookie exists
\subsection{checkCookie()}
\begin{itemize}
    \item This function checks if the \texttt{username} cookie exists.
    \item If the cookie exists, it redirects the user to the \texttt{dating.html} page.
\end{itemize}

% Function for checking if a cookie exists on pages requiring authentication
\subsection{checkCookiePages()}
\begin{itemize}
    \item This function checks if the \texttt{username} cookie exists.
    \item If the cookie doesn't exist, it redirects the user to the \texttt{login.html} page and displays a prompt to log in.
\end{itemize}

% Function for removing the filter button if no filters are applied
\subsection{removeFilterButton()}
\begin{itemize}
    \item This function checks if any filters are applied.
    \item If no filters are applied, it hides the remove filters button.
\end{itemize}






% \input{./introduction.tex} %literature survey included in this
% \input{./work-done.tex}
% \input{./future-work.tex}
% \input{./conclusion.tex}
% \input{./acknow.tex}
% \input{./ref.tex}

\end{document}
